# template for Source used by create sink
from pjk.components import Source
from pjk.usage import ParsedToken, Usage

class __NAME__Source(Source):
    @classmethod
    def usage(cls):
        usage = Usage(
            name='__NAME__',
            desc='needs description.',
            component_class=cls
    	)
        #usage.def_arg(name='myarg', usage='meaning of my arg', is_num=True)
        #usage.def_param(name='myparam', usage='meaning of myparam', default='foo')
    	#usage.def_example(expr_tokens=['[{id:1}, {id:2}]', '__NAME__:foo'], expect="{id:1}")
        return usage

    def __init__(self, ptok: ParsedToken, usage: Usage):
        self.once = False
        pass

    def __iter__(self):
        if not self.once:
            self.once = True
            yield {"_source": "hello world!"}

    def deep_copy(self):
        return None

    def close(self):
        pass
